{% extends 'store/base.html' %}

{% block title %}ShopHub - Online Shopping for Electronics, Fashion & More{% endblock %}

{% block content %}
  <div class="container">
    <!-- Banner Section -->
    <div class="banner-section">
      <div class="banner-slide">
        <div class="banner-content">
          <h1>Great Deals on Electronics</h1>
          <p>Up to 50% off on selected items</p>
          <a href="#products" class="banner-btn">Shop Now</a>
        </div>
      </div>
    </div>
    
    <!-- Category Cards -->
    <div class="category-section">
      <div class="category-grid">
        <a class="category-card" href="{% url 'store:home' %}?category=Electronics">
          <div class="category-icon">üì±</div>
          <h3>Electronics</h3>
        </a>
        <a class="category-card" href="{% url 'store:home' %}?category=Fashion">
          <div class="category-icon">üëï</div>
          <h3>Fashion</h3>
        </a>
        <a class="category-card" href="{% url 'store:home' %}?category=Home">
          <div class="category-icon">üè†</div>
          <h3>Home</h3>
        </a>
        <a class="category-card" href="{% url 'store:home' %}?category=Books">
          <div class="category-icon">üìö</div>
          <h3>Books</h3>
        </a>
        <a class="category-card" href="{% url 'store:home' %}?category=Sports">
          <div class="category-icon">‚öΩ</div>
          <h3>Sports</h3>
        </a>
        <a class="category-card" href="{% url 'store:home' %}?category=Gaming">
          <div class="category-icon">üéÆ</div>
          <h3>Gaming</h3>
        </a>
      </div>
    </div>
    
    <!-- Products Section -->
    <div id="products" class="products-section">
      <div class="section-header">
        <h2>Featured Products</h2>
        <a href="{% url 'store:home' %}" class="view-all">View All ‚Üí</a>
      </div>
      
      <div class="products-grid">
        {% for p in products %}
          <div class="product-card">
            <a href="{% url 'store:product_detail' slug=p.slug %}" class="product-link">
              <div class="product-image">
                {% if p.image %}
                  <img src="{{ p.image.url }}" alt="{{ p.title }}">
                {% else %}
                  <div class="no-image">
                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                      <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                      <circle cx="8.5" cy="8.5" r="1.5"></circle>
                      <polyline points="21 15 16 10 5 21"></polyline>
                    </svg>
                  </div>
                {% endif %}
                <div class="product-badge">New</div>
              </div>
              
              <div class="product-info">
                <h3 class="product-title">{{ p.title }}</h3>
                <div class="product-rating">
                  <span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                  <span class="rating-count">(4.2)</span>
                </div>
                <div class="product-price">
                  <span class="current-price">‚Çπ{{ p.price }}</span>
                  <span class="original-price">‚Çπ{{ p.price|add:"500" }}</span>
                  <span class="discount">20% off</span>
                </div>
                <div class="delivery-info">
                  <span class="free-delivery">Free Delivery</span>
                </div>
              </div>
            </a>
            
            <div class="product-actions">
              {% if user.is_authenticated %}
                <a href="{% url 'store:add_to_cart' product_id=p.id %}" class="add-to-cart-btn">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                  </svg>
                  Add to Cart
                </a>
                <a href="{% url 'store:buy_now' product_id=p.id %}" class="buy-now-btn">
                  Buy Now
                </a>
              {% else %}
                <a href="{% url 'store:login' %}?next={{ request.path }}" class="login-to-buy-btn">Login to purchase</a>
              {% endif %}
            </div>
          </div>
        {% empty %}
          <div class="empty-state">
            <svg width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="#ccc" stroke-width="1">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="8" x2="12" y2="12"></line>
              <line x1="12" y1="16" x2="12.01" y2="16"></line>
            </svg>
            <h3>No products available</h3>
            <p>Check back later for amazing deals!</p>
          </div>
        {% endfor %}
      </div>
    </div>
    
    <!-- Deals Section -->
    <div class="deals-section">
      <div class="section-header">
        <h2>Today's Best Deals</h2>
        <a href="#" class="view-all">View All ‚Üí</a>
      </div>
      <div class="deals-banner">
        <div class="deal-card">
          <h3>Flash Sale</h3>
          <p>Up to 70% off</p>
          <a href="#" class="deal-btn">Shop Now</a>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
